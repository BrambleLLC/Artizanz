{% extends "base.html" %}

{% block content %}
<!--suppress HtmlUnknownTarget -->
<div class="row row-centered" style="padding-top: 10%">
    <div class="col-lg-4 col-md-4 col-centered">
        <div class="panel panel-default">
            <div class="panel-body">
                <h2> Advanced Search </h2>
                <hr>
                <form action="/advanced_search" method="post">
                    <div class="form-group">
                        {{ form.vendor_name(class="form-control", placeholder="Name of Vendor", autofocus="autofocus", rows=1) }}
                    </div>
                    <div class="form-group">
                        {{ form.piece_name(class="form-control", placeholder="Name of Piece", rows=1) }}
                    </div>
                     <div class="form-group">
                        {{ form.medium(class="form-control", placeholder="Mediums (e.g canvas, oil paints)", rows=1) }}
                    </div>
                    <div class="form-group">
                        {{ form.price_low(class="form-control", placeholder="Minimum Price", rows=1) }}
                    </div>
                    <div class="form-group">
                        {{ form.price_high(class="form-control", placeholder="Maximum Price", rows=1) }}
                    </div>
                    <div class="form-group">
                        {{ form.width(class="form-control", placeholder="Width (in inches)", rows=1) }}
                    </div>
                    <div class="form-group">
                        {{ form.height(class="form-control", placeholder="Height (in inches)", rows=1) }}
                    </div>
                    <button type="button" class="btn btn-md btn-block btn-primary" id="search_button" > Search </button>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block navbar_selector %}
    <script type="text/javascript">
        $("#search_button").click(function () {
            var params = {};
            params["advanced"] = true;
            var vendor_name = $("#vendor_name").val();
            if (vendor_name !== "") {
                params["vendor_name"] = vendor_name;
            }
            var artist_name = $("#artist_name").val();
            if (artist_name !== "") {
                params["artist_name"] = artist_name;
            }
            var piece_name = $("#piece_name").val();
            if (piece_name !== "") {
                params["piece_name"] = piece_name;
            }
            var medium = $("#medium").val();
            if (medium !== "") {
                params["medium"] = medium;
            }
            var price_low = $("#price_low").val();
            if (price_low !== "") {
                params["price_low"] = price_low;
            }
            var price_high = $("#price_high").val();
            if (price_high !== "") {
                params["price_high"] = price_high
            }
            var width = $("#width").val();
            if (width !== "") {
                params["width"] = width;
            }
            var height = $("#height").val();
            if (height !== "") {
                params["height"] = height;
            }
            if (params !== {}) {
                var paramString = $.param(params);
                window.location.href = "http://artizanz.com/search?" + paramString
            }
        });
    </script>
{% endblock %}